version: '3'
networks:
  homeassistant:
    driver: bridge
    driver_opts:
      com.docker.network.enable_ipv6: "false"
    ipam:
      driver: default
      config:
        - subnet: 172.27.99.0/24
          gateway: 172.27.99.1
services:
  mosquitto:
      image: "eclipse-mosquitto:1.6"
      container_name: mosquitto
      restart: unless-stopped
      volumes:
        - mosquitto-config:/mosquitto/config
        - mosquitto-data:/mosquitto/data
        - mosquitto-log:/mosquitto/log
        - /etc/localtime:/etc/localtime:ro
      networks:
        homeassistant:
          ipv4_address: 172.27.99.6
      ports:
        - 1883:1883
  acurite2mqtt:
      container_name: acurite
      image: 31e5450e7115
      networks:
        homeassistant:
          ipv4_address: 172.27.99.7
      volumes:
        - 31e5450e7115:/data/
      environment:
        - protocol: "-R 11 -R 40 -R 41 -R 55 -R 74"
        - mqtt_host: "192.168.0.50"
        - mqtt_port: "1883"
        - mqtt_user: "user"
        - mqtt_password: "password"
        - mqtt_retain: "true"
        - mqtt_topic: "rtl_433"
        - protocol: "-R 11 -R 40 -R 41 -R 55 -R 74"
        - units: "customary"
        - expire_after: 60
        - discovery_prefix: "homeassistant"
        - discovery_interval: 600
        - whitelist_enable: "false"
        - whitelist: ""
        - debug: "false"
      restart: unless-stopped
volumes:
  mosquitto-config:
  mosquitto-data:
  mosquitto-log:
  31e5450e7115: